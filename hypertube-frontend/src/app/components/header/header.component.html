<div class="header">
    <div class="header-left">
        <div class="header-button">
            <h1 (click)="toHomepage()">Hypertube</h1>
        </div>
    </div>
    <div class="header-right">
        <button (click)="toggleTheme()" class="theme-button">
            <mat-icon >{{ themeService.isLightMode() ? 'light_mode' : 'dark_mode' }}</mat-icon>
        </button>
        <button *ngIf="isLog()" mat-button [matMenuTriggerFor]="languageMenu" color="basic" class="menu-density">
            <mat-icon style="color: var(--color-text-whitesmoke);">language</mat-icon>
            {{ tradMap.get('Languages') }}
            <mat-menu #languageMenu="matMenu">
                <button mat-menu-item *ngFor="let language of languages" (click)="updateCurrentLanguage(language)">
                    {{ language.english_name }}
                    <img
                        [ngSrc]="language.flag"
                        alt="{{ language.english_name }} flag"
                        width="16"
                        height="12"
                        style="margin-left: 8px; object-fit: cover; vertical-align: middle;"
                    />
                </button>
            </mat-menu>
        </button>

        <button *ngIf="isLog() && userInfos" mat-button [matMenuTriggerFor]="userMenu" color="basic" class="menu-density">
            <mat-icon style="color: var(--color-text-whitesmoke);">account_circle</mat-icon> {{ userInfos.username }}
            <mat-menu #userMenu="matMenu">
                <button mat-menu-item (click)="toProfile()">
                    <mat-icon style="color: var(--color-text-whitesmoke);">settings</mat-icon>
                    {{ tradMap.get('Edit Profile') }}
                </button>
                <button mat-menu-item (click)="toUsers()">
                    <mat-icon style="color: var(--color-text-whitesmoke);">person</mat-icon>
                    {{ tradMap.get('Users') }}
                </button>
                <button mat-menu-item (click)="logout()">
                    <mat-icon color="warn">logout</mat-icon>
                    <span [ngStyle]="{'color': '#F44336'}">{{ tradMap.get('Logout') }}</span>
                </button>
            </mat-menu>
        </button>

        <button *ngIf="!isLog()" mat-button (click)="login()" class="mat-button-base">
			{{ tradMap.get('Login') || 'Login' }}
        </button>
    </div>
</div>
